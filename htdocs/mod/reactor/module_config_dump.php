<?php
return array(
    'module' => array(
        'name' => 'reactor',
        'install' => '',
        'uninstall' => '',
        'to_core' => '',
        'depend' => '',
        'descrip' => 'reactor modules',
    ),
    'interfaces' => array(
        array(
            'name' => 'content_adapter',
            'class' => 'reactor\\content_adapter',
            'pkey' => '',
            'configurators' => '',
            'constructor' => '',
            'descrip' => '',
            '_define' => array(
            ),
            '_actions' => array(
                array(
                    'sort' => '0',
                    'name' => 'ajax_request',
                    'call' => 'ajax_request',
                    'description' => '',
                    'method' => '_execute',
                    'param' => 'inputGetStr(\'interface\',\'content_adapter\'),inputGetStr(\'action\',\'null\'),inputGetStr(\'template\',\'ajax_data.tpl\'),inputGetStr(\'module\',\'reactor\')',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'handleForm',
                    'call' => '',
                    'description' => '',
                    'method' => '_handleForm',
                    'param' => 'inputGetStr(\'_so\',\'none\'),inputGetStr(\'interface\',\'none\'),inputGetStr(\'action\',\'none\')',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '1',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'jsonp_request',
                    'call' => 'jsonp_request',
                    'description' => '',
                    'method' => '_execute',
                    'param' => 'inputGetStr(\'interface\',\'content_adapter\'),inputGetStr(\'action\',\'null\'),inputGetStr(\'template\',\'jsonp_data.tpl\'),inputGetStr(\'module\',\'reactor\')',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'json_request',
                    'call' => 'json_request',
                    'description' => '',
                    'method' => '_execute',
                    'param' => 'inputGetStr(\'interface\',\'content_adapter\'),inputGetStr(\'action\',\'null\'),inputGetStr(\'template\',\'json_data.tpl\'),inputGetStr(\'module\',\'reactor\')',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'null',
                    'call' => 'null',
                    'description' => '',
                    'method' => '_time',
                    'param' => '',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'onRestore',
                    'call' => 'onRestore',
                    'description' => '',
                    'method' => 'onRestore',
                    'param' => '',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
            ),
        ),
        array(
            'name' => 'reactor_help',
            'class' => 'reactor\\basic_object',
            'pkey' => 'pk_help',
            'configurators' => '',
            'constructor' => '',
            'descrip' => '',
            '_define' => array(
                array(
                    'base_type' => 'string',
                    'base_type_param' => '',
                    'sort' => '8',
                    'name' => 'action',
                    'call' => 'Экшен',
                    'description' => '',
                    'inlist' => '1',
                    'necessary' => '0',
                    'default' => '',
                    'enum' => '',
                ),
                array(
                    'base_type' => 'select',
                    'base_type_param' => '',
                    'sort' => '6',
                    'name' => 'interface',
                    'call' => 'Интерфейс',
                    'description' => '',
                    'inlist' => '1',
                    'necessary' => '0',
                    'default' => '',
                    'enum' => 'global $_db;
$query = $_db->sql(\'select `name` from \'.T_REACTOR_INTERFACE.\' order by name\');
$data=$query->matr(\'name\',\'name\');',
                ),
                array(
                    'base_type' => 'string',
                    'base_type_param' => '',
                    'sort' => '2',
                    'name' => 'title',
                    'call' => 'Статья',
                    'description' => '',
                    'inlist' => '1',
                    'necessary' => '0',
                    'default' => '',
                    'enum' => '',
                ),
                array(
                    'base_type' => 'html',
                    'base_type_param' => '',
                    'sort' => '4',
                    'name' => 'topic',
                    'call' => 'Содержание',
                    'description' => '',
                    'inlist' => '0',
                    'necessary' => '1',
                    'default' => '',
                    'enum' => '',
                ),
            ),
            '_actions' => array(
                array(
                    'sort' => '0',
                    'name' => 'add',
                    'call' => 'Добавить',
                    'description' => '',
                    'method' => '_isForm',
                    'param' => '$this->_pool_id,inputGetStr(\'_so\',\'none\'),\'createForm\'',
                    'cptpl' => 'form.tpl',
                    'cptpl_mod' => 'cp',
                    'public' => '2',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'createForm',
                    'call' => 'Создание формы',
                    'description' => '',
                    'method' => '_createForm',
                    'param' => '$this->_pool_id,\'store\',\'getOne\'',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'delete',
                    'call' => 'Удалить',
                    'description' => '',
                    'method' => 'delete',
                    'param' => 'inputGetNum(\'pk_help\')',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '1',
                    'handler' => '1',
                    'tpl_param' => '',
                    'confirm' => '1',
                ),
                array(
                    'sort' => '0',
                    'name' => 'edit',
                    'call' => 'Редактировать',
                    'description' => '',
                    'method' => '_isForm',
                    'param' => '$this->_pool_id,inputGetStr(\'_so\',\'none\'),\'createForm\'',
                    'cptpl' => 'form.tpl',
                    'cptpl_mod' => 'cp',
                    'public' => '1',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'getList',
                    'call' => 'Справка',
                    'description' => '',
                    'method' => 'getList',
                    'param' => 'inputGetNum(\'reactor_help_page\',1),20/*,\'where\'*/',
                    'cptpl' => 'list.tpl',
                    'cptpl_mod' => 'cp',
                    'public' => '3',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'getOne',
                    'call' => 'Один элемент',
                    'description' => '',
                    'method' => 'getOne',
                    'param' => 'inputGetNum(\'pk_help\',0)',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'onRestore',
                    'call' => 'onRestore',
                    'description' => '',
                    'method' => 'onRestore',
                    'param' => '',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'reactor_help',
                    'call' => '',
                    'description' => '',
                    'method' => 'configure',
                    'param' => 'T_REACTOR_HELP,\'title\'',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'show',
                    'call' => 'Справка',
                    'description' => '',
                    'method' => 'getOne',
                    'param' => 'inputGetNum(\'pk_help\')',
                    'cptpl' => 'help.tpl',
                    'cptpl_mod' => 'reactor',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
                array(
                    'sort' => '0',
                    'name' => 'store',
                    'call' => 'Сохранение',
                    'description' => '',
                    'method' => 'store',
                    'param' => '$param',
                    'cptpl' => '',
                    'cptpl_mod' => '',
                    'public' => '0',
                    'handler' => '0',
                    'tpl_param' => '',
                    'confirm' => '0',
                ),
            ),
        ),
    ),
    'tables' => array(
        array(
            'name' => 'base_type',
            'db_name' => 'reactor_base_type',
            'mlng' => '0',
            'creates' => array(
                'reactor_base_type' => 'CREATE TABLE `reactor_base_type` (
  `pk_base_type` int(11) NOT NULL AUTO_INCREMENT,
  `fk_module` int(11) NOT NULL DEFAULT \'0\',
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `call` varchar(100) NOT NULL DEFAULT \'\',
  `check_enum` tinyint(1) NOT NULL DEFAULT \'1\',
  `check_array` tinyint(1) NOT NULL DEFAULT \'1\',
  `handle` tinyint(1) NOT NULL DEFAULT \'0\',
  `input` varchar(100) NOT NULL DEFAULT \'\',
  `type` varchar(100) NOT NULL DEFAULT \'\',
  PRIMARY KEY (`pk_base_type`),
  UNIQUE KEY `idx_name` (`name`)
) ENGINE=MyISAM AUTO_INCREMENT=28 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'config',
            'db_name' => 'reactor_config',
            'mlng' => '0',
            'creates' => array(
                'reactor_config' => 'CREATE TABLE `reactor_config` (
  `pk_config` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `fk_module` int(11) NOT NULL DEFAULT \'0\',
  `group` varchar(100) NOT NULL DEFAULT \'\',
  `value` varchar(255) NOT NULL DEFAULT \'\',
  `descrip` varchar(255) NOT NULL DEFAULT \'\',
  PRIMARY KEY (`pk_config`),
  UNIQUE KEY `idx_name` (`name`,`fk_module`)
) ENGINE=MyISAM AUTO_INCREMENT=10 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'help',
            'db_name' => 'reactor_help',
            'mlng' => '0',
            'creates' => array(
                'reactor_help' => 'CREATE TABLE `reactor_help` (
  `pk_help` int(11) NOT NULL AUTO_INCREMENT,
  `interface` varchar(100) NOT NULL DEFAULT \'\',
  `define` varchar(100) NOT NULL DEFAULT \'\',
  `action` varchar(100) NOT NULL DEFAULT \'\',
  `title` varchar(100) NOT NULL DEFAULT \'\',
  `topic` text NOT NULL,
  PRIMARY KEY (`pk_help`)
) ENGINE=MyISAM AUTO_INCREMENT=6 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'interface',
            'db_name' => 'reactor_interface',
            'mlng' => '0',
            'creates' => array(
                'reactor_interface' => 'CREATE TABLE `reactor_interface` (
  `pk_interface` int(11) NOT NULL AUTO_INCREMENT,
  `fk_interface` int(11) NOT NULL DEFAULT \'0\',
  `fk_module` int(11) NOT NULL DEFAULT \'0\',
  `name` varchar(255) NOT NULL DEFAULT \'\',
  `class` varchar(255) NOT NULL DEFAULT \'\',
  `source` varchar(255) NOT NULL DEFAULT \'\',
  `pkey` varchar(255) NOT NULL DEFAULT \'\',
  `configurators` varchar(255) NOT NULL DEFAULT \'\',
  `constructor` varchar(255) NOT NULL DEFAULT \'\',
  `descrip` varchar(100) NOT NULL DEFAULT \'\',
  PRIMARY KEY (`pk_interface`),
  KEY `idx_name` (`fk_module`,`name`)
) ENGINE=MyISAM AUTO_INCREMENT=17 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'interface_action',
            'db_name' => 'reactor_interface_action',
            'mlng' => '0',
            'creates' => array(
                'reactor_interface_action' => 'CREATE TABLE `reactor_interface_action` (
  `pk_action` int(11) NOT NULL AUTO_INCREMENT,
  `fk_action` int(11) NOT NULL DEFAULT \'0\',
  `fk_interface` int(11) NOT NULL DEFAULT \'0\',
  `sort` int(11) NOT NULL DEFAULT \'0\',
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `call` varchar(100) NOT NULL DEFAULT \'\',
  `description` text NOT NULL,
  `method` varchar(100) NOT NULL DEFAULT \'\',
  `param` varchar(255) NOT NULL DEFAULT \'\',
  `cptpl` varchar(100) NOT NULL DEFAULT \'\',
  `cptpl_mod` varchar(100) NOT NULL DEFAULT \'\',
  `public` tinyint(1) NOT NULL DEFAULT \'0\',
  `handler` tinyint(1) NOT NULL DEFAULT \'0\',
  `tpl_param` varchar(255) NOT NULL DEFAULT \'\',
  `confirm` tinyint(1) NOT NULL DEFAULT \'0\',
  PRIMARY KEY (`pk_action`),
  UNIQUE KEY `idx_name` (`fk_interface`,`name`)
) ENGINE=MyISAM AUTO_INCREMENT=143 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'interface_define',
            'db_name' => 'reactor_interface_define',
            'mlng' => '0',
            'creates' => array(
                'reactor_interface_define' => 'CREATE TABLE `reactor_interface_define` (
  `pk_define` int(11) NOT NULL AUTO_INCREMENT,
  `fk_interface` int(11) NOT NULL DEFAULT \'0\',
  `base_type` varchar(100) NOT NULL DEFAULT \'\',
  `base_type_param` varchar(255) NOT NULL DEFAULT \'\',
  `sort` int(11) NOT NULL DEFAULT \'0\',
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `call` varchar(100) NOT NULL DEFAULT \'\',
  `description` text NOT NULL,
  `inlist` tinyint(1) NOT NULL DEFAULT \'0\',
  `necessary` tinyint(1) NOT NULL DEFAULT \'0\',
  `default` text NOT NULL,
  `enum` text NOT NULL,
  PRIMARY KEY (`pk_define`),
  UNIQUE KEY `idx_name` (`fk_interface`,`name`)
) ENGINE=MyISAM AUTO_INCREMENT=73 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'module',
            'db_name' => 'reactor_module',
            'mlng' => '0',
            'creates' => array(
                'reactor_module' => 'CREATE TABLE `reactor_module` (
  `pk_module` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(20) NOT NULL DEFAULT \'\',
  `install` text NOT NULL,
  `uninstall` text NOT NULL,
  `to_core` text NOT NULL,
  `depend` text NOT NULL,
  `descrip` text NOT NULL,
  PRIMARY KEY (`pk_module`),
  UNIQUE KEY `idx_name` (`name`)
) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'resource',
            'db_name' => 'reactor_resource',
            'mlng' => '0',
            'creates' => array(
                'reactor_resource' => 'CREATE TABLE `reactor_resource` (
  `pk_resource` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `fk_module` int(11) NOT NULL DEFAULT \'0\',
  `store` tinyint(1) NOT NULL DEFAULT \'0\',
  `source` text NOT NULL,
  PRIMARY KEY (`pk_resource`),
  UNIQUE KEY `idx_name` (`name`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'table',
            'db_name' => 'reactor_table',
            'mlng' => '0',
            'creates' => array(
                'reactor_table' => 'CREATE TABLE `reactor_table` (
  `pk_table` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `fk_module` int(11) NOT NULL DEFAULT \'0\',
  `db_name` varchar(30) NOT NULL DEFAULT \'\',
  `mlng` tinyint(1) NOT NULL DEFAULT \'0\',
  PRIMARY KEY (`pk_table`),
  UNIQUE KEY `idx_uname` (`name`,`fk_module`)
) ENGINE=MyISAM AUTO_INCREMENT=15 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'tree_sup',
            'db_name' => 'reactor_tree_sup',
            'mlng' => '0',
            'creates' => array(
                'reactor_tree_sup' => 'CREATE TABLE `reactor_tree_sup` (
  `pk_node` int(11) unsigned NOT NULL DEFAULT \'0\',
  `childs` int(11) unsigned NOT NULL DEFAULT \'0\',
  PRIMARY KEY (`pk_node`) USING BTREE
) ENGINE=MEMORY DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'ugroup',
            'db_name' => 'reactor_ugroup',
            'mlng' => '0',
            'creates' => array(
                'reactor_ugroup' => 'CREATE TABLE `reactor_ugroup` (
  `pk_ugroup` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `descrip` varchar(100) NOT NULL DEFAULT \'\',
  PRIMARY KEY (`pk_ugroup`)
) ENGINE=MyISAM AUTO_INCREMENT=14 DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'ugroup_action',
            'db_name' => 'reactor_ugroup_action',
            'mlng' => '0',
            'creates' => array(
                'reactor_ugroup_action' => 'CREATE TABLE `reactor_ugroup_action` (
  `fk_ugroup` int(11) NOT NULL DEFAULT \'0\',
  `fk_action` int(11) NOT NULL DEFAULT \'0\',
  PRIMARY KEY (`fk_ugroup`,`fk_action`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8',
            ),
        ),
        array(
            'name' => 'user',
            'db_name' => 'reactor_user',
            'mlng' => '0',
            'creates' => array(
                'reactor_user' => 'CREATE TABLE `reactor_user` (
  `pk_user` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `fk_ugroup` int(11) NOT NULL DEFAULT \'0\',
  `login` varchar(100) NOT NULL,
  `pass` varchar(100) NOT NULL,
  `email` varchar(100) NOT NULL,
  `visited` int(11) unsigned NOT NULL DEFAULT \'0\',
  `cookie` varchar(100) NOT NULL DEFAULT \'\',
  `name` varchar(100) NOT NULL DEFAULT \'\',
  `active` tinyint(1) NOT NULL DEFAULT \'0\',
  `ip_allowed` varchar(45) NOT NULL,
  PRIMARY KEY (`pk_user`),
  UNIQUE KEY `idx_unic` (`login`),
  KEY `idx_login` (`login`,`pass`),
  KEY `idx_cookie` (`cookie`,`active`) USING BTREE
) ENGINE=MyISAM AUTO_INCREMENT=249875 DEFAULT CHARSET=utf8',
            ),
        ),
    ),
    'config' => array(
        array(
            'name' => 'COOKIE_LIVE',
            'group' => '',
            'value' => '60*60*24*30+time()',
            'descrip' => '',
        ),
        array(
            'name' => 'DEBUG_SQL',
            'group' => '',
            'value' => '0',
            'descrip' => '',
        ),
        array(
            'name' => 'DEBUG_TPL',
            'group' => '',
            'value' => '0',
            'descrip' => '',
        ),
        array(
            'name' => 'DEF_LANGUAGE',
            'group' => '',
            'value' => '\'ru\'',
            'descrip' => '',
        ),
        array(
            'name' => 'FORMAT_DATE',
            'group' => '',
            'value' => '\'d.m.Y\'',
            'descrip' => '',
        ),
        array(
            'name' => 'format_datetime',
            'group' => '',
            'value' => '\'d.m.Y, H:i\'',
            'descrip' => '',
        ),
        array(
            'name' => 'mobile_app_version',
            'group' => '',
            'value' => '1',
            'descrip' => '',
        ),
        array(
            'name' => 'VERSION',
            'group' => '',
            'value' => '\'3.8\'',
            'descrip' => '',
        ),
    ),
    'resources' => array(
    ),
    'base_types' => array(
    ),
    'action_relations' => array(
        'reactor_module;getList' => array(
            'reactor_help;getList',
        ),
    ),
);